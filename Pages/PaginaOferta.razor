@page "/pagina-oferta"
@using Sales_funnel.Components.Global
@using Sales_funnel.Components.PaginaOferta
@using Sales_funnel.Components.UI
@inject NavigationManager NavigationManager



<div class="bg-gray-50 py-8">
    <div class="container mx-auto px-4">
        
        <div class="max-w-5xl mx-auto mt-8">
            <ProductDetails 
                OnPurchaseClick="@HandlePurchase"
                OnSecondaryClick="@(() => ScrollToSection("conteudo"))"
            />
            
            <Vantagens />
            
            <div class="mt-16" id="conteudo">
                <ContentTable />
            </div>
            
            <div class="mt-16">
                <div class="text-center mb-6">
                    <h2 class="text-2xl font-bold mb-2">Opções de compra</h2>
                    <p class="text-gray-600">Escolha a opção que melhor atende às suas necessidades</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-3xl mx-auto">
                    <PricingTable 
                        Title="PWA Master - E-book Básico" 
                        Price="97.00m"
                        OriginalPrice="149.90m"
                        IsFeatured="true"
                        OnBuyClick="@HandlePurchase"
                        Features="@(new List<string> {
                            "E-book em PDF, EPUB e MOBI",
                            "Exemplos de código fonte",
                            "Acesso vitalício a atualizações",
                            "30 dias de garantia"
                        })"
                    />
                    <PricingTable 
                        Title="PWA Master Premium" 
                        Price="197.00m"
                        OriginalPrice="297.90m"
                        DiscountLabel="33% OFF"
                        InstallmentInfo="ou em até 12x de R$ 16,41"
                        BuyButtonText="Quero o Premium"
                        IsFeatured="false"
                        OnBuyClick="@HandlePurchasePremium"
                        Features="@(new List<string> {
                            "Tudo do pacote básico",
                            "3 projetos PWA completos",
                            "Acesso a comunidade exclusiva",
                            "Atualizações por 1 ano",
                            "Suporte por email por 3 meses",
                            "Certificado de conclusão"
                        })"
                    />
                </div>
            </div>
            
            <div class="mt-16">
                <div class="bg-white p-8 rounded-lg shadow-sm">
                    <div class="text-center mb-6">
                        <h2 class="text-2xl font-bold mb-2">O que estão dizendo sobre o PWA Master</h2>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <Testimonial
                            Quote="O e-book PWA Master é exatamente o que eu precisava para entender como criar PWAs eficientes. Os exemplos práticos são incríveis."
                            Author="Renata Almeida"
                            Role="Frontend Developer"
                            AvatarUrl="https://randomuser.me/api/portraits/women/68.jpg"
                        />
                        
                        <Testimonial
                            Quote="Como professor de desenvolvimento web, recomendo este e-book para todos os meus alunos que desejam aprofundar em PWAs."
                            Author="Carlos Eduardo"
                            Role="Professor Universitário"
                            AvatarUrl="https://randomuser.me/api/portraits/men/43.jpg"
                        />
                        
                        <Testimonial
                            Quote="Os exemplos de código são de alta qualidade e fáceis de adaptar. Já estou implementando PWAs nos projetos da minha empresa."
                            Author="Juliana Costa"
                            Role="Tech Lead"
                            AvatarUrl="https://randomuser.me/api/portraits/women/33.jpg"
                        />
                    </div>
                </div>
            </div>
            
            <div class="mt-16">
                <Card Variant="elevated" Class="p-6 bg-gradient-to-r from-blue-500 to-purple-600 text-white">
                    <div class="md:flex items-center justify-between">
                        <div class="mb-4 md:mb-0">
                            <h3 class="text-xl font-bold mb-2">Pronto para dominar o desenvolvimento de PWAs?</h3>
                            <p class="opacity-90">Adquira agora o e-book PWA Master e transforme suas habilidades de desenvolvimento web.</p>
                        </div>
                        <div>
                            <Button Variant="primary" Size="lg" OnClick="HandlePurchase">
                                Comprar Agora
                            </Button>
                        </div>
                    </div>
                </Card>
            </div>
            
            <div class="mt-8 text-center text-gray-600 text-sm">
                <p>Garantia de 30 dias ou seu dinheiro de volta. Sem perguntas.</p>
                <p class="mt-1">© @DateTime.Now.Year PWA Master. Todos os direitos reservados.</p>
            </div>
        </div>
    </div>
</div>

@code {
    private void HandlePurchase()
    {
        // Em um ambiente real, aqui direcionaria para uma página de checkout
        // Para o protótipo, apenas exibe um console log
        Console.WriteLine("Compra do pacote básico solicitada");
        
        // Mostrar um alert usando JS seria uma opção em uma implementação real
    }
    
    private void HandlePurchasePremium()
    {
        // Em um ambiente real, aqui direcionaria para uma página de checkout do pacote premium
        // Para o protótipo, apenas exibe um console log
        Console.WriteLine("Compra do pacote premium solicitada");
    }
    
    private void ScrollToSection(string sectionId)
    {
        // Em um ambiente real, aqui seria implementado o scroll usando JS
        // Para o protótipo, esta função é apenas um placeholder
    }
}
