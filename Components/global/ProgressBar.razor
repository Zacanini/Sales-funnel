@namespace Sales_funnel.Components.Global

<div class="w-full max-w-2xl mx-auto py-4 px-4">
    <div class="flex justify-between items-center mb-2">
        @for (int i = 0; i < Steps.Length; i++)
        {
            var step = Steps[i];
            var isActive = i <= CurrentStep;
            var isCompleted = i < CurrentStep;
            
            <div class="flex flex-col items-center">
                <div class="@(isActive ? "bg-blue-500 text-white" : "bg-gray-200 text-gray-600") 
                           rounded-full h-8 w-8 flex items-center justify-center transition-all duration-300">
                    @if (isCompleted)
                    {
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                    }
                    else
                    {
                        @(i + 1)
                    }
                </div>
                <div class="text-xs mt-1 text-center @(isActive ? "text-blue-500 font-medium" : "text-gray-600")">
                    @step
                </div>
            </div>
            
            @if (i < Steps.Length - 1)
            {
                <div class="flex-grow h-1 mx-2 @(i < CurrentStep ? "bg-blue-500" : "bg-gray-200")"></div>
            }
        }
    </div>
</div>

@code {
    [Parameter]
    public int CurrentStep { get; set; } = 0;
    
    [Parameter]
    public string[] Steps { get; set; } = new[] {
        "Landing Page",
        "Formulário de Cadastro",
        "Conteúdo de Engajamento",
        "Página de Oferta"
    };
}